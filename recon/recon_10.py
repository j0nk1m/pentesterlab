#OBJECTIVE
#For this challenge, your goal is to use visual reconnaissance. You will need to find the website with the key in red.

#VISUAL RECONNAISSANCE
#For this challenge, the web applications are hosted under: 0x["%02x"].a.hackycorp.com as in:

#0x00.a.hackycorp.com
#0x01.a.hackycorp.com
#...
#0x0a.a.hackycorp.com
#0x0b.a.hackycorp.com
#...
#If you haven't done visual reconnaissance before, you can try to use the tool Aquatone to get images that you can browse easily to find the right key.

from urllib.request import urlopen
from PIL import Image
from io import BytesIO

def color_check(url):
    page = urlopen(url)
    image = page.read()
    img = BytesIO(image)
    test = Image.open(img).convert('RGB')
    colors = test.getcolors(maxcolors=256)
    return colors

def image_runner():
    char = "0123456789abcdef"
    for a in char:
        for b in char:
            url = f'http://0x{a}{b}.a.hackycorp.com/logo.png'
            #print(url)
            for i in color_check(url):
                for j in i:
                    if j == (255, 0, 0):
                        print(url)

image_runner()
